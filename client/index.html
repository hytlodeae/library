<!DOCTYPE html>
<head> 
    <!-- Some meta data, just ignore it -->
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="HandheldFriendly" content="true" />
	<meta name="MobileOptimized" content="width" />
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,user-scalable=0" />
	<title>A book library</title>
</head>

<body>
    <!-- Here is the html body -->
	<h1>a webpage</h1>
    <button onclick="on_button_click()">click me to make an api call</button>

    <!-- Here load the script module -->
	<script>
		async function on_button_click() {
            var type = 'json, we just defined this'
            const rec = await fetch('/api/button_click', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    data: 'the data that will be send',
                    type //here the type is both a key and value.
                })
            }).then((res) => res.json());
            if (rec.status === 'ok') {
            } else {
                alert("there was an error")
            }
            return rec;
		}
	</script>
</body>

</html>